// === FOTOS: 3 ANILLOS ESCALONADOS (repartidas, no alineadas) ===
const ring = document.getElementById('ring');
function layoutFotos(){
  ring.innerHTML = '';

  const N = FOTOS.length;
  const minSide = Math.min(innerWidth, innerHeight);

  // radio base (más grande en móvil para abrir a los lados)
  const R_BASE = minSide * (innerHeight > innerWidth ? 0.38 : 0.32);

  // tres anillos con alturas y fases distintas (para que queden en distintos lados)
  const rings = [
    { r: R_BASE*0.95, y: -innerHeight*0.16, phase: 0.00 },          // arriba
    { r: R_BASE*1.15, y:            0,       phase: Math.PI/3 },     // medio
    { r: R_BASE*0.95, y:  innerHeight*0.16, phase: Math.PI*2/3 }     // abajo
  ];

  for (let i = 0; i < N; i++) {
    const a = i % rings.length;                            // qué anillo toca
    const k = Math.floor(i / rings.length);                // posición dentro del anillo
    const items = Math.ceil((N - a + rings.length - 1) / rings.length);

    const { r, y, phase } = rings[a];
    const ang = (k/items)*Math.PI*2 + phase;               // desfase = NO se alinean
    const x = Math.cos(ang)*r;
    const z = Math.sin(ang)*r;

    const img = new Image();
    img.src = FOTOS[i];
    img.alt = 'foto';
    img.onerror = () => img.remove();

    // pequeña variación para romper líneas perfectas
    const wiggle = Math.sin(ang*2) * Math.min(20, minSide*0.02);
    img.style.transform = `translate3d(${x}px, ${y + wiggle}px, ${z}px) rotateY(${ang}rad)`;
    ring.appendChild(img);
  }
}
layoutFotos();
addEventListener('resize', layoutFotos);
